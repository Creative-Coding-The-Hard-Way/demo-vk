<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="@brief Creates a Vulkan surface for the specified window."><title>glfwCreateWindowSurface in glfw_sys - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="glfw_sys" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">glfwCreateWindowSurface</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../glfw_sys/index.html">glfw_<wbr>sys</a><span class="version">6.0.0</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">glfw_sys</a></div><h1>Function <span class="fn">glfw<wbr>Create<wbr>Window<wbr>Surface</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/glfw_sys/sys/pregenerated.rs.html#1123-1128">Source</a> </span></div><pre class="rust item-decl"><code>pub unsafe extern &quot;C&quot; fn glfwCreateWindowSurface(
    instance: <a class="type" href="type.VkInstance.html" title="type glfw_sys::VkInstance">VkInstance</a>,
    window: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.pointer.html">*mut </a><a class="struct" href="struct.GLFWwindow.html" title="struct glfw_sys::GLFWwindow">GLFWwindow</a>,
    allocator: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.pointer.html">*const </a><a class="struct" href="struct.VkAllocationCallbacks.html" title="struct glfw_sys::VkAllocationCallbacks">VkAllocationCallbacks</a>,
    surface: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.pointer.html">*mut </a><a class="type" href="type.VkSurfaceKHR.html" title="type glfw_sys::VkSurfaceKHR">VkSurfaceKHR</a>,
) -&gt; <a class="type" href="type.VkResult.html" title="type glfw_sys::VkResult">VkResult</a></code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>@brief Creates a Vulkan surface for the specified window.</p>
<p>This function creates a Vulkan surface for the specified window.</p>
<p>If the Vulkan loader or at least one minimally functional ICD were not found,
this function returns <code>VK_ERROR_INITIALIZATION_FAILED</code> and generates a @ref
GLFW_API_UNAVAILABLE error.  Call @ref glfwVulkanSupported to check whether
Vulkan is at least minimally available.</p>
<p>If the required window surface creation instance extensions are not
available or if the specified instance was not created with these extensions
enabled, this function returns <code>VK_ERROR_EXTENSION_NOT_PRESENT</code> and
generates a @ref GLFW_API_UNAVAILABLE error.  Call @ref
glfwGetRequiredInstanceExtensions to check what instance extensions are
required.</p>
<p>The window surface cannot be shared with another API so the window must
have been created with the [client api hint](@ref GLFW_CLIENT_API_attrib)
set to <code>GLFW_NO_API</code> otherwise it generates a @ref GLFW_INVALID_VALUE error
and returns <code>VK_ERROR_NATIVE_WINDOW_IN_USE_KHR</code>.</p>
<p>The window surface must be destroyed before the specified Vulkan instance.
It is the responsibility of the caller to destroy the window surface.  GLFW
does not destroy it for you.  Call <code>vkDestroySurfaceKHR</code> to destroy the
surface.</p>
<p>@param[in] instance The Vulkan instance to create the surface in.
@param[in] window The window to create the surface for.
@param[in] allocator The allocator to use, or <code>NULL</code> to use the default
allocator.
@param[out] surface Where to store the handle of the surface.  This is set
to <code>VK_NULL_HANDLE</code> if an error occurred.
@return <code>VK_SUCCESS</code> if successful, or a Vulkan error code if an
[error](@ref error_handling) occurred.</p>
<p>@errors Possible errors include @ref GLFW_NOT_INITIALIZED, @ref
GLFW_API_UNAVAILABLE, @ref GLFW_PLATFORM_ERROR and @ref GLFW_INVALID_VALUE</p>
<p>@remark If an error occurs before the creation call is made, GLFW returns
the Vulkan error code most appropriate for the error.  Appropriate use of
@ref glfwVulkanSupported and @ref glfwGetRequiredInstanceExtensions should
eliminate almost all occurrences of these errors.</p>
<p>@remark @macos GLFW prefers the <code>VK_EXT_metal_surface</code> extension, with the
<code>VK_MVK_macos_surface</code> extension as a fallback.  The name of the selected
extension, if any, is included in the array returned by @ref
glfwGetRequiredInstanceExtensions.</p>
<p>@remark @macos This function creates and sets a <code>CAMetalLayer</code> instance for
the window content view, which is required for MoltenVK to function.</p>
<p>@remark @x11 By default GLFW prefers the <code>VK_KHR_xcb_surface</code> extension,
with the <code>VK_KHR_xlib_surface</code> extension as a fallback.  You can make
<code>VK_KHR_xlib_surface</code> the preferred extension by setting the
<a href="constant.GLFW_X11_XCB_VULKAN_SURFACE.html" title="constant glfw_sys::GLFW_X11_XCB_VULKAN_SURFACE">GLFW_X11_XCB_VULKAN_SURFACE</a>(@ref GLFW_X11_XCB_VULKAN_SURFACE_hint) init
hint.  The name of the selected extension, if any, is included in the array
returned by @ref glfwGetRequiredInstanceExtensions.</p>
<p>@thread_safety This function may be called from any thread.  For
synchronization details of Vulkan objects, see the Vulkan specification.</p>
<p>@sa @ref vulkan_surface
@sa @ref glfwGetRequiredInstanceExtensions</p>
<p>@since Added in version 3.2.</p>
<p>@ingroup vulkan</p>
</div></details></section></div></main></body></html>