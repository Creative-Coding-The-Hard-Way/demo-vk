<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A compatibility trait for older code implementing `BitWrite`"><title>BitWrite2 in bitstream_io::write - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bitstream_io" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">BitWrite2</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bitstream_io/index.html">bitstream_<wbr>io</a><span class="version">4.9.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">BitWrite2</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.byte_aligned" title="byte_aligned">byte_aligned</a></li><li><a href="#tymethod.write" title="write">write</a></li><li><a href="#tymethod.write_as_from" title="write_as_from">write_as_from</a></li><li><a href="#tymethod.write_from" title="write_from">write_from</a></li><li><a href="#tymethod.write_out" title="write_out">write_out</a></li><li><a href="#tymethod.write_signed" title="write_signed">write_signed</a></li><li><a href="#tymethod.write_unary0" title="write_unary0">write_unary0</a></li><li><a href="#tymethod.write_unary1" title="write_unary1">write_unary1</a></li><li><a href="#tymethod.write_unsigned" title="write_unsigned">write_unsigned</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.build" title="build">build</a></li><li><a href="#method.build_with" title="build_with">build_with</a></li><li><a href="#method.byte_align" title="byte_align">byte_align</a></li><li><a href="#method.pad" title="pad">pad</a></li><li><a href="#method.write_bit" title="write_bit">write_bit</a></li><li><a href="#method.write_bytes" title="write_bytes">write_bytes</a></li><li><a href="#method.write_huffman" title="write_huffman">write_huffman</a></li><li><a href="#method.write_signed_out" title="write_signed_out">write_signed_out</a></li><li><a href="#method.write_unsigned_out" title="write_unsigned_out">write_unsigned_out</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In bitstream_<wbr>io::<wbr>write</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">bitstream_io</a>::<wbr><a href="index.html">write</a></div><h1>Trait <span class="trait">BitWrite2</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/bitstream_io/write.rs.html#1267-1525">Source</a> </span></div><pre class="rust item-decl"><code>pub trait BitWrite2 {
<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 18 methods</span></summary>    // Required methods
    fn <a href="#tymethod.write" class="fn">write</a>&lt;I&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: I) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where I: <a class="trait" href="../trait.Integer.html" title="trait bitstream_io::Integer">Integer</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_out" class="fn">write_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, I&gt;(&amp;mut self, value: I) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where I: <a class="trait" href="../trait.Integer.html" title="trait bitstream_io::Integer">Integer</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_unsigned" class="fn">write_unsigned</a>&lt;U&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: U) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where U: <a class="trait" href="../trait.UnsignedInteger.html" title="trait bitstream_io::UnsignedInteger">UnsignedInteger</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_signed" class="fn">write_signed</a>&lt;S&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: S) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where S: <a class="trait" href="../trait.SignedInteger.html" title="trait bitstream_io::SignedInteger">SignedInteger</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_from" class="fn">write_from</a>&lt;V&gt;(&amp;mut self, value: V) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where V: <a class="trait" href="../trait.Primitive.html" title="trait bitstream_io::Primitive">Primitive</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_as_from" class="fn">write_as_from</a>&lt;F, V&gt;(&amp;mut self, value: V) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where F: <a class="trait" href="../trait.Endianness.html" title="trait bitstream_io::Endianness">Endianness</a>,
             V: <a class="trait" href="../trait.Primitive.html" title="trait bitstream_io::Primitive">Primitive</a></span>;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_unary0" class="fn">write_unary0</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.write_unary1" class="fn">write_unary1</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    fn <a href="#tymethod.byte_aligned" class="fn">byte_aligned</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.bool.html">bool</a>;

    // Provided methods
    fn <a href="#method.write_bit" class="fn">write_bit</a>(&amp;mut self, bit: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.bool.html">bool</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_unsigned_out" class="fn">write_unsigned_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, U&gt;(&amp;mut self, value: U) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where U: <a class="trait" href="../trait.UnsignedInteger.html" title="trait bitstream_io::UnsignedInteger">UnsignedInteger</a></span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_signed_out" class="fn">write_signed_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, S&gt;(&amp;mut self, value: S) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where S: <a class="trait" href="../trait.SignedInteger.html" title="trait bitstream_io::SignedInteger">SignedInteger</a></span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.pad" class="fn">pad</a>(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_bytes" class="fn">write_bytes</a>(&amp;mut self, buf: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.build" class="fn">build</a>&lt;T: <a class="trait" href="trait.ToBitStream.html" title="trait bitstream_io::write::ToBitStream">ToBitStream</a>&gt;(&amp;mut self, build: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.reference.html">&amp;T</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>, T::<a class="associatedtype" href="trait.ToBitStream.html#associatedtype.Error" title="type bitstream_io::write::ToBitStream::Error">Error</a>&gt;
       <span class="where">where Self: <a class="trait" href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite">BitWrite</a></span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.build_with" class="fn">build_with</a>&lt;'a, T: <a class="trait" href="trait.ToBitStreamWith.html" title="trait bitstream_io::write::ToBitStreamWith">ToBitStreamWith</a>&lt;'a&gt;&gt;(
        &amp;mut self,
        build: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.reference.html">&amp;T</a>,
        context: &amp;T::<a class="associatedtype" href="trait.ToBitStreamWith.html#associatedtype.Context" title="type bitstream_io::write::ToBitStreamWith::Context">Context</a>,
    ) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>, T::<a class="associatedtype" href="trait.ToBitStreamWith.html#associatedtype.Error" title="type bitstream_io::write::ToBitStreamWith::Error">Error</a>&gt;
       <span class="where">where Self: <a class="trait" href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite">BitWrite</a></span> { ... }
<span class="item-spacer"></span>    fn <a href="#method.byte_align" class="fn">byte_align</a>(&amp;mut self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.write_huffman" class="fn">write_huffman</a>&lt;T&gt;(&amp;mut self, value: T::<a class="associatedtype" href="../huffman/trait.ToBits.html#associatedtype.Symbol" title="type bitstream_io::huffman::ToBits::Symbol">Symbol</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;
       <span class="where">where T: <a class="trait" href="../huffman/trait.ToBits.html" title="trait bitstream_io::huffman::ToBits">ToBits</a></span> { ... }
</details>}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A compatibility trait for older code implementing <a href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite"><code>BitWrite</code></a></p>
<p>This is a trait largely compatible with older code
from the 2.X.X version,
which one can use with a named import as needed.</p>
<p>New code should prefer the regular <a href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite"><code>BitWrite</code></a> trait.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>bitstream_io::BitWrite2 <span class="kw">as </span>BitWrite;
<span class="kw">use </span>bitstream_io::{BitWriter, BigEndian};
<span class="kw">let </span><span class="kw-2">mut </span>byte = <span class="macro">vec!</span>[];
<span class="kw">let </span><span class="kw-2">mut </span>writer = BitWriter::endian(byte, BigEndian);
writer.write::&lt;u8&gt;(<span class="number">4</span>, <span class="number">0b1111</span>).unwrap();
writer.write_out::&lt;<span class="number">4</span>, u8&gt;(<span class="number">0b0000</span>).unwrap();
<span class="macro">assert_eq!</span>(writer.into_writer(), [<span class="number">0b1111_0000</span>]);</code></pre></div></div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.write" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1288-1290">Source</a><h4 class="code-header">fn <a href="#tymethod.write" class="fn">write</a>&lt;I&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: I) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    I: <a class="trait" href="../trait.Integer.html" title="trait bitstream_io::Integer">Integer</a>,</div></h4></section></summary><div class="docblock"><p>Writes a signed or unsigned value to the stream using the given
number of bits.</p>
<h5 id="errors"><a class="doc-anchor" href="#errors">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the input type is too small
to hold the given number of bits.
Returns an error if the value is too large
to fit the given number of bits.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_out" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1302-1304">Source</a><h4 class="code-header">fn <a href="#tymethod.write_out" class="fn">write_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, I&gt;(&amp;mut self, value: I) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    I: <a class="trait" href="../trait.Integer.html" title="trait bitstream_io::Integer">Integer</a>,</div></h4></section></summary><div class="docblock"><p>Writes a signed or unsigned value to the stream using the given
const number of bits.</p>
<h5 id="errors-1"><a class="doc-anchor" href="#errors-1">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the value is too large
to fit the given number of bits.
A compile-time error occurs if the given number of bits
is larger than the output type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_unsigned" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1316-1318">Source</a><h4 class="code-header">fn <a href="#tymethod.write_unsigned" class="fn">write_unsigned</a>&lt;U&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: U) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    U: <a class="trait" href="../trait.UnsignedInteger.html" title="trait bitstream_io::UnsignedInteger">UnsignedInteger</a>,</div></h4></section></summary><div class="docblock"><p>Writes an unsigned value to the stream using the given
number of bits.</p>
<h5 id="errors-2"><a class="doc-anchor" href="#errors-2">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the input type is too small
to hold the given number of bits.
Returns an error if the value is too large
to fit the given number of bits.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_signed" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1350-1352">Source</a><h4 class="code-header">fn <a href="#tymethod.write_signed" class="fn">write_signed</a>&lt;S&gt;(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, value: S) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    S: <a class="trait" href="../trait.SignedInteger.html" title="trait bitstream_io::SignedInteger">SignedInteger</a>,</div></h4></section></summary><div class="docblock"><p>Writes a twos-complement signed value to the stream
with the given number of bits.</p>
<h5 id="errors-3"><a class="doc-anchor" href="#errors-3">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the input type is too small
to hold the given number of bits.
Returns an error if the number of bits is 0,
since one bit is always needed for the sign.
Returns an error if the value is too large
to fit the given number of bits.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_from" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1379-1381">Source</a><h4 class="code-header">fn <a href="#tymethod.write_from" class="fn">write_from</a>&lt;V&gt;(&amp;mut self, value: V) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    V: <a class="trait" href="../trait.Primitive.html" title="trait bitstream_io::Primitive">Primitive</a>,</div></h4></section></summary><div class="docblock"><p>Writes whole value to the stream whose size in bits
is equal to its type’s size.</p>
<h5 id="errors-4"><a class="doc-anchor" href="#errors-4">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_as_from" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1390-1393">Source</a><h4 class="code-header">fn <a href="#tymethod.write_as_from" class="fn">write_as_from</a>&lt;F, V&gt;(&amp;mut self, value: V) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    F: <a class="trait" href="../trait.Endianness.html" title="trait bitstream_io::Endianness">Endianness</a>,
    V: <a class="trait" href="../trait.Primitive.html" title="trait bitstream_io::Primitive">Primitive</a>,</div></h4></section></summary><div class="docblock"><p>Writes whole value to the stream whose size in bits
is equal to its type’s size in an endianness that may
be different from the stream’s endianness.</p>
<h5 id="errors-5"><a class="doc-anchor" href="#errors-5">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_unary0" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1443">Source</a><h4 class="code-header">fn <a href="#tymethod.write_unary0" class="fn">write_unary0</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes <code>value</code> number of 1 bits to the stream
and then writes a 0 bit.  This field is variably-sized.</p>
<h5 id="errors-6"><a class="doc-anchor" href="#errors-6">§</a>Errors</h5>
<p>Passes along any I/O error from the underyling stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.write_unary1" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1451">Source</a><h4 class="code-header">fn <a href="#tymethod.write_unary1" class="fn">write_unary1</a>(&amp;mut self, value: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes <code>value</code> number of 0 bits to the stream
and then writes a 1 bit.  This field is variably-sized.</p>
<h5 id="errors-7"><a class="doc-anchor" href="#errors-7">§</a>Errors</h5>
<p>Passes along any I/O error from the underyling stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.byte_aligned" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1474">Source</a><h4 class="code-header">fn <a href="#tymethod.byte_aligned" class="fn">byte_aligned</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if the stream is aligned at a whole byte.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.write_bit" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1274-1276">Source</a><h4 class="code-header">fn <a href="#method.write_bit" class="fn">write_bit</a>(&amp;mut self, bit: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.bool.html">bool</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes a single bit to the stream.
<code>true</code> indicates 1, <code>false</code> indicates 0</p>
<h5 id="errors-8"><a class="doc-anchor" href="#errors-8">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_unsigned_out" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1331-1336">Source</a><h4 class="code-header">fn <a href="#method.write_unsigned_out" class="fn">write_unsigned_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, U&gt;(&amp;mut self, value: U) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    U: <a class="trait" href="../trait.UnsignedInteger.html" title="trait bitstream_io::UnsignedInteger">UnsignedInteger</a>,</div></h4></section></summary><div class="docblock"><p>Writes an unsigned value to the stream using the given
const number of bits.</p>
<h5 id="errors-9"><a class="doc-anchor" href="#errors-9">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the value is too large
to fit the given number of bits.
A compile-time error occurs if the given number of bits
is larger than the output type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_signed_out" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1366-1371">Source</a><h4 class="code-header">fn <a href="#method.write_signed_out" class="fn">write_signed_out</a>&lt;const BITS: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>, S&gt;(&amp;mut self, value: S) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    S: <a class="trait" href="../trait.SignedInteger.html" title="trait bitstream_io::SignedInteger">SignedInteger</a>,</div></h4></section></summary><div class="docblock"><p>Writes a twos-complement signed value to the stream
with the given const number of bits.</p>
<h5 id="errors-10"><a class="doc-anchor" href="#errors-10">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.
Returns an error if the value is too large
to fit the given number of bits.
A compile-time error occurs if the number of bits is 0,
since one bit is always needed for the sign.
A compile-time error occurs if the given number of bits
is larger than the output type.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.pad" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1400-1411">Source</a><h4 class="code-header">fn <a href="#method.pad" class="fn">pad</a>(&amp;mut self, bits: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u32.html">u32</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Pads the stream by writing 0 over the given number of bits.</p>
<h5 id="errors-11"><a class="doc-anchor" href="#errors-11">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_bytes" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1432-1435">Source</a><h4 class="code-header">fn <a href="#method.write_bytes" class="fn">write_bytes</a>(&amp;mut self, buf: &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.u8.html">u8</a>]) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes the entirety of a byte buffer to the stream.</p>
<h5 id="errors-12"><a class="doc-anchor" href="#errors-12">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
<h5 id="example-1"><a class="doc-anchor" href="#example-1">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::io::Write;
<span class="kw">use </span>bitstream_io::{BigEndian, BitWriter, BitWrite};
<span class="kw">let </span><span class="kw-2">mut </span>writer = BitWriter::endian(Vec::new(), BigEndian);
writer.write_var(<span class="number">8</span>, <span class="number">0x66u8</span>).unwrap();
writer.write_var(<span class="number">8</span>, <span class="number">0x6Fu8</span>).unwrap();
writer.write_var(<span class="number">8</span>, <span class="number">0x6Fu8</span>).unwrap();
writer.write_bytes(<span class="string">b"bar"</span>).unwrap();
<span class="macro">assert_eq!</span>(writer.into_writer(), <span class="string">b"foobar"</span>);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.build" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1454-1459">Source</a><h4 class="code-header">fn <a href="#method.build" class="fn">build</a>&lt;T: <a class="trait" href="trait.ToBitStream.html" title="trait bitstream_io::write::ToBitStream">ToBitStream</a>&gt;(&amp;mut self, build: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.reference.html">&amp;T</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>, T::<a class="associatedtype" href="trait.ToBitStream.html#associatedtype.Error" title="type bitstream_io::write::ToBitStream::Error">Error</a>&gt;<div class="where">where
    Self: <a class="trait" href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite">BitWrite</a>,</div></h4></section></summary><div class="docblock"><p>Builds and writes complex type</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.build_with" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1462-1471">Source</a><h4 class="code-header">fn <a href="#method.build_with" class="fn">build_with</a>&lt;'a, T: <a class="trait" href="trait.ToBitStreamWith.html" title="trait bitstream_io::write::ToBitStreamWith">ToBitStreamWith</a>&lt;'a&gt;&gt;(
    &amp;mut self,
    build: <a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.reference.html">&amp;T</a>,
    context: &amp;T::<a class="associatedtype" href="trait.ToBitStreamWith.html#associatedtype.Context" title="type bitstream_io::write::ToBitStreamWith::Context">Context</a>,
) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.91.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>, T::<a class="associatedtype" href="trait.ToBitStreamWith.html#associatedtype.Error" title="type bitstream_io::write::ToBitStreamWith::Error">Error</a>&gt;<div class="where">where
    Self: <a class="trait" href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite">BitWrite</a>,</div></h4></section></summary><div class="docblock"><p>Builds and writes complex type with context</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.byte_align" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1493-1498">Source</a><h4 class="code-header">fn <a href="#method.byte_align" class="fn">byte_align</a>(&amp;mut self) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Pads the stream with 0 bits until it is aligned at a whole byte.
Does nothing if the stream is already aligned.</p>
<h5 id="errors-13"><a class="doc-anchor" href="#errors-13">§</a>Errors</h5>
<p>Passes along any I/O error from the underyling stream.</p>
<h5 id="example-2"><a class="doc-anchor" href="#example-2">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::io::Write;
<span class="kw">use </span>bitstream_io::{BigEndian, BitWriter, BitWrite};
<span class="kw">let </span><span class="kw-2">mut </span>writer = BitWriter::endian(Vec::new(), BigEndian);
writer.write_var(<span class="number">1</span>, <span class="number">0u8</span>).unwrap();
writer.byte_align().unwrap();
writer.write_var(<span class="number">8</span>, <span class="number">0xFFu8</span>).unwrap();
<span class="macro">assert_eq!</span>(writer.into_writer(), [<span class="number">0x00</span>, <span class="number">0xFF</span>]);</code></pre></div></div></details><details class="toggle method-toggle" open><summary><section id="method.write_huffman" class="method"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1519-1524">Source</a><h4 class="code-header">fn <a href="#method.write_huffman" class="fn">write_huffman</a>&lt;T&gt;(&amp;mut self, value: T::<a class="associatedtype" href="../huffman/trait.ToBits.html#associatedtype.Symbol" title="type bitstream_io::huffman::ToBits::Symbol">Symbol</a>) -&gt; <a class="type" href="https://doc.rust-lang.org/1.91.1/std/io/error/type.Result.html" title="type std::io::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.91.1/std/primitive.unit.html">()</a>&gt;<div class="where">where
    T: <a class="trait" href="../huffman/trait.ToBits.html" title="trait bitstream_io::huffman::ToBits">ToBits</a>,</div></h4></section></summary><div class="docblock"><p>Given a symbol, writes its representation to the output stream as bits.
Generates no output if the symbol isn’t defined in the Huffman tree.</p>
<h5 id="errors-14"><a class="doc-anchor" href="#errors-14">§</a>Errors</h5>
<p>Passes along any I/O error from the underlying stream.</p>
<h5 id="example-3"><a class="doc-anchor" href="#example-3">§</a>Example</h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::io::Write;
<span class="kw">use </span>bitstream_io::{BigEndian, BitWriter, BitWrite2};
<span class="kw">use </span>bitstream_io::define_huffman_tree;
<span class="macro">define_huffman_tree!</span>(TreeName : char = [<span class="string">'a'</span>, [<span class="string">'b'</span>, [<span class="string">'c'</span>, <span class="string">'d'</span>]]]);
<span class="kw">let </span><span class="kw-2">mut </span>writer = BitWriter::endian(Vec::new(), BigEndian);
writer.write_huffman::&lt;TreeName&gt;(<span class="string">'b'</span>).unwrap();
writer.write_huffman::&lt;TreeName&gt;(<span class="string">'c'</span>).unwrap();
writer.write_huffman::&lt;TreeName&gt;(<span class="string">'d'</span>).unwrap();
<span class="macro">assert_eq!</span>(writer.into_writer(), [<span class="number">0b10_110_111</span>]);</code></pre></div></div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.91.1/reference/items/traits.html#dyn-compatibility">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-BitWrite2-for-W" class="impl"><a class="src rightside" href="../../src/bitstream_io/write.rs.html#1527-1627">Source</a><a href="#impl-BitWrite2-for-W" class="anchor">§</a><h3 class="code-header">impl&lt;W: <a class="trait" href="trait.BitWrite.html" title="trait bitstream_io::write::BitWrite">BitWrite</a>&gt; <a class="trait" href="trait.BitWrite2.html" title="trait bitstream_io::write::BitWrite2">BitWrite2</a> for W</h3></section></div><script src="../../trait.impl/bitstream_io/write/trait.BitWrite2.js" async></script></section></div></main></body></html>